Reddit Persona GeneratorOverviewThis Python script scrapes a Reddit user's posts and comments, analyzes them using the Gemini API, and generates a user persona in a structured Markdown format. The persona includes:Location: Inferred city, state, or country.Age: Estimated age range with reasoning.Occupation: Inferred job or professional status.Interests: Hobbies or interests derived from content.Personality Traits: Traits like curious or outspoken.Behaviors: Observable actions, e.g., frequent posting.Frustrations: Complaints or issues expressed.Each characteristic includes citations to specific posts or comments (ID and URL). The script filters sensitive content to avoid Gemini API moderation errors (e.g., PROHIBITED\_CONTENT).RequirementsPython: 3.8 or higherDependencies:praw: Reddit API accesspython-dotenv: Environment variable managementgoogle-generativeai: Gemini API accessAPI Keys:Reddit API: REDDIT\_CLIENT\_ID, REDDIT\_CLIENT\_SECRETGemini API: GEMINI\_API\_KEYSetupInstall Dependencies:pip install praw python-dotenv google-generativeaiConfigure Environment Variables:Create a .env file in the project directory:REDDIT\_CLIENT\_ID=your\_reddit\_client\_idREDDIT\_CLIENT\_SECRET=your\_reddit\_client\_secretGEMINI\_API\_KEY=your\_gemini\_api\_keyGet Reddit API credentials from Reddit Apps.Get a Gemini API key from Google Cloud.Project Files:Ensure these files are in your project directory:main.py: Runs the script and prompts for input.reddit\_extract.py: Fetches Reddit data.extract\_persona.py: Generates the persona.UsageRun the script:python main.pyEnter a Reddit user profile URL, e.g.:https://www.reddit.com/user/Dense\_Educator8783/The script will:Fetch up to 100 posts and 100 comments.Save raw data to username\_reddit\_data.json.Filter sensitive content (e.g., terms like "harassing", "violence").Generate the persona using the Gemini API.Save the persona to username\_persona.txt.OutputThe script generates two files:username\_reddit\_data.json: Raw Reddit data in JSON format.username\_persona.txt: Persona in Markdown format, e.g.:\# User Persona: Dense\_Educator8783\## Characteristics- \*\*Location\*\*: New York, inferred from r/nyc activity.- Citation: Post ID: abc123, https://www.reddit.com/r/nyc/comments/abc123/- \*\*Age\*\*: Likely 20-30, based on college references.- Citation: Comment ID: xyz789, https://www.reddit.com/r/nyc/comments/[post\_id]/xyz789/- \*\*Occupation\*\*: Student, inferred from coursework mentions.- Citation: Post ID: def456, https://www.reddit.com/r/college/comments/def456/- \*\*Interests\*\*: Gaming, social events.- Citation: Comment ID: ghi012, https://www.reddit.com/r/gaming/comments/[post\_id]/ghi012/- \*\*Personality Traits\*\*: Curious, outspoken.- Citation: Comment ID: mno678, https://www.reddit.com/r/nyc/comments/[post\_id]/mno678/- \*\*Behaviors\*\*: Active Reddit user, frequent commenter.- Citation: Comment ID: mno678, https://www.reddit.com/r/nyc/comments/[post\_id]/mno678/- \*\*Frustrations\*\*: Issues with local transportation.- Citation: Post ID: pqr901, https://www.reddit.com/r/nyc/comments/pqr901/If the Gemini API blocks content, a fallback persona is saved:\# User Persona: Dense\_Educator8783\## Characteristics- \*\*Location\*\*: Insufficient data to determine location.- Citation: None, more data needed.- \*\*Age\*\*: Insufficient data to estimate age.- Citation: None, more data needed....Note: Persona generation failed due to content moderation.TroubleshootingNo Data Fetched:Verify the Reddit user exists and has public posts/comments.Check Reddit API credentials in .env.PROHIBITED\_CONTENT Error:Review console output for filtered posts/comments.Check username\_reddit\_data.json for sensitive terms.Update sensitive\_keywords in extract\_persona.py:sensitive\_keywords = ['harassing', 'bribe', 'violence', 'hate', 'explicit', 'abuse', 'assault', 'discrimination', 'offensive', 'threat', 'illegal', 'sex', 'drugs', 'new\_term']API Errors:Ensure valid Gemini API key and sufficient quota.Check for network issues or rate limits.NotesFetches up to 100 posts and 100 comments to respect API limits.Content filtering may reduce data if many posts/comments are sensitive.Gemini API supports up to 1 million tokens per request, sufficient for most users.For support, check console output or contact the developer.
